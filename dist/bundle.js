(()=>{"use strict";const t=t=>{let e,s=t.length;for(;0!==s;)e=Math.floor(Math.random()*s),s--,[t[s],t[e]]=[t[e],t[s]];return t},e=document.querySelector(".header"),s=document.querySelector(".result"),n=document.querySelector(".common"),a=document.querySelector(".game-section__container"),c=()=>{e.innerHTML="",s.innerHTML="",s.classList.remove("result"),n.classList.remove("back-result"),a.innerHTML='\n        <form class="common-block center">\n            <h1 class="common-text">Выбери сложность</h1>\n            <div class="common-options options-form">\n\n                <label for="1">\n                    <div class="item">\n                        <input class="input" id="1" name="item" value="1" type="radio">\n                        1\n                    </div>\n                </label>\n\n                <label for="2">\n                    <div class="item">\n                        <input class="input" id="2" name="item" value="2" type="radio">\n                        2\n                    </div>\n                </label>\n\n                <label for="3">\n                    <div class="item">\n                        <input class="input" id="3" name="item" value="3" type="radio">\n                        3\n                    </div>\n                </label>\n\n            </div>\n            <button type="submit" class="start-button" disabled>Старт</button>\n        </form>\n        ';const i=document.querySelector(".options-form"),l=document.querySelector(".start-button"),r=document.querySelectorAll(".item");for(const t of r)t.addEventListener("click",(function(){for(const t of r)t.classList.remove("select-border");this.classList.add("select-border")}));i.addEventListener("change",(t=>{t.target.matches('input[type="radio"]')&&(l.disabled=!1)})),l.addEventListener("click",(()=>{const a=i.querySelector('input[type="radio"]:checked').value;console.log(a),(a=>{let i=null,l=null,r=!0,o=!1;const d=document.createElement("button");d.textContent="Начать заново",d.classList.add("restart-btn");const u=document.createElement("div");u.textContent="00.00",u.classList.add("timer-count");const p=document.querySelector(".game-section__container"),m=document.createElement("div");m.classList.add("game-table");const b=document.createElement("button");b.textContent="Показать карты",b.classList.add("show-btn");const g=document.createElement("img");g.setAttribute("src","static/win.png");const _=document.createElement("h3");_.textContent="Вы выиграли!",_.classList.add("win-text");const L=document.createElement("h3");L.textContent="Затраченное время!",L.classList.add("time-left");const f=(e=>{const s=["static/6_baptize.png","static/7_baptize.png","static/8_baptize.png","static/9_baptize.png","static/10_baptize.png","static/jack_baptize.png","static/queen_baptize.png","static/king_baptize.png","static/ace_baptize.png","static/6_bubi.png","static/7_bubi.png","static/8_bubi.png","static/9_bubi.png","static/10_bubi.png","static/jack_bubi.png","static/queen_bubi.png","static/king_bubi.png","static/ace_bubi.png","static/6_hearst.png","static/7_hearst.png","static/8_hearst.png","static/9_hearst.png","static/10_hearst.png","static/jack_hearst.png","static/queen_hearst.png","static/king_hearst.png","static/ace_hearst.png","static/6_spades.png","static/7_spades.png","static/8_spades.png","static/9_spades.png","static/10_spades.png","static/jack_spades.png","static/queen_spades.png","static/king_spades.png","static/ace_spades.png"];switch(e){case"1":return t(s).slice(0,3);case"2":return t(s).slice(0,6);case"3":return t(s).slice(0,9)}})(a),h=f.reduce(((t,e)=>t.concat([e,e])),[]);p.innerHTML="",e.innerHTML="",s.innerHTML="",b.classList.remove("disabled"),t(h),h.forEach((t=>m.append(((t,e)=>{const s=document.createElement("div");s.classList.add("game-card");const n=document.createElement("img"),a=document.createElement("img");return n.setAttribute("src","static/back.jpg"),a.setAttribute("src",`${e}`),s.append(a,n),s})(0,t)))),e.append(u,d),p.append(m,b);const v=document.querySelectorAll(".game-card");d.addEventListener("click",c),b.addEventListener("click",(()=>{!1===o&&(setTimeout((()=>{v.forEach((t=>t.classList.remove("flip"))),b.classList.add("disabled")}),1e3),v.forEach((t=>t.classList.add("flip"))),o=!0)})),v.forEach(((t,e)=>t.addEventListener("click",(()=>{!0!==r||t.classList.contains("successfully")||(t.classList.add("flip"),null===i?i=e:e!==i&&(l=e,r=!1),null!==i&&null!==l&&i!==l&&(v[i].firstElementChild.src===v[l].firstElementChild.src?setTimeout((()=>{v[i].classList.add("successfully"),v[l].classList.add("successfully"),i=null,l=null,r=!0}),500):setTimeout((()=>{g.setAttribute("src","static/lose.png"),_.textContent="Вы проиграли!",_.classList.add("win-text"),s.classList.add("result"),s.append(g,_,L,u,d),n.classList.add("back-result")}),500))),Array.from(v).every((t=>t.className.includes("flip")))&&setTimeout((()=>{s.classList.add("result"),s.append(g,_,L,u,d),n.classList.add("back-result")}),500)}))))})(a)}))};c()})();