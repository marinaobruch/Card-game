(()=>{"use strict";const t=t=>{let e,s=t.length;for(;0!==s;)e=Math.floor(Math.random()*s),s--,[t[s],t[e]]=[t[e],t[s]];return t},e=document.querySelector(".header"),s=document.querySelector(".result"),n=document.querySelector(".common"),a=document.querySelector(".game-section__container"),c=()=>{e.innerHTML="",s.innerHTML="",s.classList.remove("result"),n.classList.remove("back-result"),a.innerHTML='\n        <form class="common-block center">\n            <h1 class="common-text">Выбери сложность</h1>\n            <div class="common-options options-form">\n\n                <label for="1">\n                    <div class="item">\n                        <input class="input" id="1" name="item" value="1" type="radio">\n                        1\n                    </div>\n                </label>\n\n                <label for="2">\n                    <div class="item">\n                        <input class="input" id="2" name="item" value="2" type="radio">\n                        2\n                    </div>\n                </label>\n\n                <label for="3">\n                    <div class="item">\n                        <input class="input" id="3" name="item" value="3" type="radio">\n                        3\n                    </div>\n                </label>\n\n            </div>\n            <button type="submit" class="start-button" disabled>Старт</button>\n        </form>\n        ';const i=document.querySelector(".options-form"),r=document.querySelector(".start-button"),l=document.querySelectorAll(".item");for(const t of l)t.addEventListener("click",(function(){for(const t of l)t.classList.remove("select-border");this.classList.add("select-border")}));i.addEventListener("change",(t=>{t.target.matches('input[type="radio"]')&&(r.disabled=!1)})),r.addEventListener("click",(()=>{const a=i.querySelector('input[type="radio"]:checked').value;console.log(a),(a=>{let i,r=null,l=null,d=!0,o=!1,u=0,p=0;const m=document.createElement("button");m.textContent="Начать заново",m.classList.add("restart-btn");const b=document.createElement("span"),g=document.createElement("span");b.textContent="00",g.textContent="00",b.classList.add("timer-count"),g.classList.add("timer-count");const L=document.createElement("span");L.textContent=".",L.classList.add("timer-count");const _=document.createElement("div");_.append(b,L,g);const v=document.querySelector(".game-section__container"),f=document.createElement("div");f.classList.add("game-table");const h=document.createElement("button");h.textContent="Показать карты",h.classList.add("show-btn");const E=document.createElement("img");E.setAttribute("src","static/win.png");const y=document.createElement("h3");y.textContent="Вы выиграли!",y.classList.add("win-text");const k=document.createElement("h3");k.textContent="Затраченное время!",k.classList.add("time-left");const T=(e=>{const s=["static/6_baptize.png","static/7_baptize.png","static/8_baptize.png","static/9_baptize.png","static/10_baptize.png","static/jack_baptize.png","static/queen_baptize.png","static/king_baptize.png","static/ace_baptize.png","static/6_bubi.png","static/7_bubi.png","static/8_bubi.png","static/9_bubi.png","static/10_bubi.png","static/jack_bubi.png","static/queen_bubi.png","static/king_bubi.png","static/ace_bubi.png","static/6_hearst.png","static/7_hearst.png","static/8_hearst.png","static/9_hearst.png","static/10_hearst.png","static/jack_hearst.png","static/queen_hearst.png","static/king_hearst.png","static/ace_hearst.png","static/6_spades.png","static/7_spades.png","static/8_spades.png","static/9_spades.png","static/10_spades.png","static/jack_spades.png","static/queen_spades.png","static/king_spades.png","static/ace_spades.png"];switch(e){case"1":return t(s).slice(0,3);case"2":return t(s).slice(0,6);case"3":return t(s).slice(0,9)}})(a),q=T.reduce(((t,e)=>t.concat([e,e])),[]);v.innerHTML="",e.innerHTML="",s.innerHTML="",h.classList.remove("disabled"),t(q),q.forEach((t=>f.append(((t,e)=>{const s=document.createElement("div");s.classList.add("game-card");const n=document.createElement("img"),a=document.createElement("img");return n.setAttribute("src","static/back.jpg"),a.setAttribute("src",`${e}`),s.append(a,n),s})(0,t)))),e.append(_,m),v.append(f,h);const M=document.querySelectorAll(".game-card");function x(){p++,p<9&&(g.innerHTML="0"+p),p>9&&(g.innerHTML=p),p>99&&(u++,b.innerHTML="0"+u,p=0,g.innerHTML="00"),u>9&&(b.innerHTML=u)}m.addEventListener("click",c),h.addEventListener("click",(()=>{!1===o&&(setTimeout((()=>{M.forEach((t=>t.classList.remove("flip"))),h.classList.add("disabled")}),5e3),M.forEach((t=>t.classList.add("flip"))),o=!0)})),M.forEach(((t,e)=>t.addEventListener("click",(()=>{clearInterval(i),i=setInterval(x,10),!0!==d||t.classList.contains("successfully")||(t.classList.add("flip"),null===r?r=e:e!==r&&(l=e,d=!1),null!==r&&null!==l&&r!==l&&(M[r].firstElementChild.src===M[l].firstElementChild.src?setTimeout((()=>{M[r].classList.add("successfully"),M[l].classList.add("successfully"),r=null,l=null,d=!0}),500):(clearInterval(i),setTimeout((()=>{b.classList.add("timer-res"),g.classList.add("timer-res"),L.classList.add("timer-res"),E.setAttribute("src","static/lose.png"),y.textContent="Вы проиграли!",y.classList.add("win-text"),s.classList.add("result"),s.append(E,y,k,_,m),n.classList.add("back-result")}),500)))),Array.from(M).every((t=>t.className.includes("flip")))&&(clearInterval(i),setTimeout((()=>{b.classList.add("timer-res"),g.classList.add("timer-res"),L.classList.add("timer-res"),s.classList.add("result"),s.append(E,y,k,_,m),n.classList.add("back-result")}),500))}))))})(a)}))};c()})();