(()=>{"use strict";var t=function(t){for(var e,n,s=t.length;0!==s;)n=Math.floor(Math.random()*s),s--,e=[t[n],t[s]],t[s]=e[0],t[n]=e[1];return t},e=document.querySelector(".header"),n=document.querySelector(".res-container"),s=document.querySelector(".result"),a=document.querySelector(".common"),c=document.querySelector(".game-section__container"),i=function(){e&&(e.innerHTML=""),s&&(s.innerHTML="",s.classList.remove("result")),n&&(n.innerHTML="",n.classList.remove("res-container")),a&&a.classList.remove("back-result"),c&&(c.innerHTML='\n        <form class="common-block center">\n            <h1 class="common-text">Выбери сложность</h1>\n            <div class="common-options options-form">\n\n                <label for="1">\n                    <div class="item">\n                        <input class="input" id="1" name="item" value="1" type="radio">\n                        1\n                    </div>\n                </label>\n\n                <label for="2">\n                    <div class="item">\n                        <input class="input" id="2" name="item" value="2" type="radio">\n                        2\n                    </div>\n                </label>\n\n                <label for="3">\n                    <div class="item">\n                        <input class="input" id="3" name="item" value="3" type="radio">\n                        3\n                    </div>\n                </label>\n\n            </div>\n            <button type="submit" class="start-button" disabled>Старт</button>\n        </form>\n        ');for(var r=document.querySelector(".options-form"),l=document.querySelector(".start-button"),d=document.querySelectorAll(".item"),o=function(t){t.addEventListener("click",(function(){for(var e=0,n=d;e<n.length;e++)n[e].classList.remove("select-border");t.classList.add("select-border")}))},u=0,p=d;u<p.length;u++)o(p[u]);r&&l&&r.addEventListener("change",(function(t){t.target.matches('input[type="radio"]')&&(l.disabled=!1)})),l&&l.addEventListener("click",(function(){if(r){var c=r.querySelector('input[type="radio"]:checked').value;console.log(c),function(c){var r,l=null,d=null,o=!0,u=!1,p=0,m=0,b=document.createElement("button");b.textContent="Начать заново",b.classList.add("restart-btn");var g=document.createElement("span"),L=document.createElement("span");g.textContent="00",L.textContent="00",g.classList.add("timer-count"),L.classList.add("timer-count");var v=document.createElement("span");v.textContent=".",v.classList.add("timer-count");var f=document.createElement("div");f.append(g,v,L);var _=document.querySelector(".game-section__container"),h=document.createElement("div");h.classList.add("game-table");var E=document.createElement("button");E.textContent="Показать карты",E.classList.add("show-btn");var y=document.createElement("img");y.setAttribute("src","static/win.png");var k=document.createElement("h3");k.textContent="Вы выиграли!",k.classList.add("win-text");var T=document.createElement("h3");T.textContent="Затраченное время!",T.classList.add("time-left");var q=function(e){var n=["static/6_baptize.png","static/7_baptize.png","static/8_baptize.png","static/9_baptize.png","static/10_baptize.png","static/jack_baptize.png","static/queen_baptize.png","static/king_baptize.png","static/ace_baptize.png","static/6_bubi.png","static/7_bubi.png","static/8_bubi.png","static/9_bubi.png","static/10_bubi.png","static/jack_bubi.png","static/queen_bubi.png","static/king_bubi.png","static/ace_bubi.png","static/6_hearst.png","static/7_hearst.png","static/8_hearst.png","static/9_hearst.png","static/10_hearst.png","static/jack_hearst.png","static/queen_hearst.png","static/king_hearst.png","static/ace_hearst.png","static/6_spades.png","static/7_spades.png","static/8_spades.png","static/9_spades.png","static/10_spades.png","static/jack_spades.png","static/queen_spades.png","static/king_spades.png","static/ace_spades.png"];switch(e){case"1":return t(n).slice(0,3);case"2":return t(n).slice(0,6);case"3":return t(n).slice(0,9)}}(c),M=q.reduce((function(t,e){return t.concat([e,e])}),[]);_&&(_.innerHTML=""),e&&(e.innerHTML=""),s&&(s.innerHTML=""),E.classList.remove("disabled"),t(M),M.forEach((function(t){return h.append(function(t,e){var n=document.createElement("div");n.classList.add("game-card");var s=document.createElement("img"),a=document.createElement("img");return s.setAttribute("src","".concat("static/back.jpg")),a.setAttribute("src","".concat(e)),n.append(a,s),n}(0,t))})),e&&e.append(f,b),_&&_.append(h,E);var H=document.querySelectorAll(".game-card");function x(){++m<9&&(L.innerHTML="0"+m),m>9&&(L.innerHTML=""+m),m>99&&(p++,g.innerHTML="0"+p,m=0,L.innerHTML="00"),p>9&&(g.innerHTML=""+p)}b.addEventListener("click",i),E.addEventListener("click",(function(){!1===u&&(setTimeout((function(){H.forEach((function(t){return t.classList.remove("flip")})),E.classList.add("disabled")}),5e3),H.forEach((function(t){return t.classList.add("flip")})),u=!0)})),H.forEach((function(t,e){return t.addEventListener("click",(function(){clearInterval(r),r=setInterval(x,10),!0!==o||t.classList.contains("successfully")||(t.classList.add("flip"),null===l?l=e:e!==l&&(d=e,o=!1),null!==l&&null!==d&&l!==d&&(H[l].firstElementChild.src===H[d].firstElementChild.src?setTimeout((function(){l&&d&&(H[l].classList.add("successfully"),H[d].classList.add("successfully")),l=null,d=null,o=!0}),500):(clearInterval(r),setTimeout((function(){g.classList.add("timer-res"),L.classList.add("timer-res"),v.classList.add("timer-res"),y.setAttribute("src","static/lose.png"),k.textContent="Вы проиграли!",k.classList.add("win-text"),s&&(s.classList.add("result"),s.append(y,k,T,f,b)),n&&s&&(n.classList.add("res-container"),n.append(s)),a&&a.classList.add("back-result")}),500)))),Array.from(H).every((function(t){return t.className.includes("flip")}))&&(clearInterval(r),setTimeout((function(){g.classList.add("timer-res"),L.classList.add("timer-res"),v.classList.add("timer-res"),s&&(s.classList.add("result"),s.append(y,k,T,f,b)),n&&s&&(n.classList.add("res-container"),n.append(s)),a&&a.classList.add("back-result")}),500))}))}))}(c)}}))};i()})();