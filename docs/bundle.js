(()=>{"use strict";const t=t=>{let e,s=t.length;for(;0!==s;)e=Math.floor(Math.random()*s),s--,[t[s],t[e]]=[t[e],t[s]];return t},e=document.querySelector(".header"),s=document.querySelector(".res-container"),n=document.querySelector(".result"),a=document.querySelector(".common"),c=document.querySelector(".game-section__container"),i=()=>{e.innerHTML="",n.innerHTML="",s.innerHTML="",n.classList.remove("result"),s.classList.remove("res-container"),a.classList.remove("back-result"),c.innerHTML='\n        <form class="common-block center">\n            <h1 class="common-text">Выбери сложность</h1>\n            <div class="common-options options-form">\n\n                <label for="1">\n                    <div class="item">\n                        <input class="input" id="1" name="item" value="1" type="radio">\n                        1\n                    </div>\n                </label>\n\n                <label for="2">\n                    <div class="item">\n                        <input class="input" id="2" name="item" value="2" type="radio">\n                        2\n                    </div>\n                </label>\n\n                <label for="3">\n                    <div class="item">\n                        <input class="input" id="3" name="item" value="3" type="radio">\n                        3\n                    </div>\n                </label>\n\n            </div>\n            <button type="submit" class="start-button" disabled>Старт</button>\n        </form>\n        ';const r=document.querySelector(".options-form"),l=document.querySelector(".start-button"),d=document.querySelectorAll(".item");for(const t of d)t.addEventListener("click",(function(){for(const t of d)t.classList.remove("select-border");this.classList.add("select-border")}));r.addEventListener("change",(t=>{t.target.matches('input[type="radio"]')&&(l.disabled=!1)})),l.addEventListener("click",(()=>{const c=r.querySelector('input[type="radio"]:checked').value;console.log(c),(c=>{let r,l=null,d=null,o=!0,u=!1,p=0,m=0;const b=document.createElement("button");b.textContent="Начать заново",b.classList.add("restart-btn");const g=document.createElement("span"),L=document.createElement("span");g.textContent="00",L.textContent="00",g.classList.add("timer-count"),L.classList.add("timer-count");const _=document.createElement("span");_.textContent=".",_.classList.add("timer-count");const v=document.createElement("div");v.append(g,_,L);const f=document.querySelector(".game-section__container"),h=document.createElement("div");h.classList.add("game-table");const E=document.createElement("button");E.textContent="Показать карты",E.classList.add("show-btn");const y=document.createElement("img");y.setAttribute("src","static/win.png");const k=document.createElement("h3");k.textContent="Вы выиграли!",k.classList.add("win-text");const T=document.createElement("h3");T.textContent="Затраченное время!",T.classList.add("time-left");const q=(e=>{const s=["static/6_baptize.png","static/7_baptize.png","static/8_baptize.png","static/9_baptize.png","static/10_baptize.png","static/jack_baptize.png","static/queen_baptize.png","static/king_baptize.png","static/ace_baptize.png","static/6_bubi.png","static/7_bubi.png","static/8_bubi.png","static/9_bubi.png","static/10_bubi.png","static/jack_bubi.png","static/queen_bubi.png","static/king_bubi.png","static/ace_bubi.png","static/6_hearst.png","static/7_hearst.png","static/8_hearst.png","static/9_hearst.png","static/10_hearst.png","static/jack_hearst.png","static/queen_hearst.png","static/king_hearst.png","static/ace_hearst.png","static/6_spades.png","static/7_spades.png","static/8_spades.png","static/9_spades.png","static/10_spades.png","static/jack_spades.png","static/queen_spades.png","static/king_spades.png","static/ace_spades.png"];switch(e){case"1":return t(s).slice(0,3);case"2":return t(s).slice(0,6);case"3":return t(s).slice(0,9)}})(c),M=q.reduce(((t,e)=>t.concat([e,e])),[]);n.innerHTML="",f.innerHTML="",e.innerHTML="",E.classList.remove("disabled"),t(M),M.forEach((t=>h.append(((t,e)=>{const s=document.createElement("div");s.classList.add("game-card");const n=document.createElement("img"),a=document.createElement("img");return n.setAttribute("src","static/back.jpg"),a.setAttribute("src",`${e}`),s.append(a,n),s})(0,t)))),e.append(v,b),f.append(h,E);const H=document.querySelectorAll(".game-card");function x(){m++,m<9&&(L.innerHTML="0"+m),m>9&&(L.innerHTML=m),m>99&&(p++,g.innerHTML="0"+p,m=0,L.innerHTML="00"),p>9&&(g.innerHTML=p)}b.addEventListener("click",i),E.addEventListener("click",(()=>{!1===u&&(setTimeout((()=>{H.forEach((t=>t.classList.remove("flip"))),E.classList.add("disabled")}),5e3),H.forEach((t=>t.classList.add("flip"))),u=!0)})),H.forEach(((t,e)=>t.addEventListener("click",(()=>{clearInterval(r),r=setInterval(x,10),!0!==o||t.classList.contains("successfully")||(t.classList.add("flip"),null===l?l=e:e!==l&&(d=e,o=!1),null!==l&&null!==d&&l!==d&&(H[l].firstElementChild.src===H[d].firstElementChild.src?setTimeout((()=>{H[l].classList.add("successfully"),H[d].classList.add("successfully"),l=null,d=null,o=!0}),500):(clearInterval(r),setTimeout((()=>{g.classList.add("timer-res"),L.classList.add("timer-res"),_.classList.add("timer-res"),y.setAttribute("src","static/lose.png"),k.textContent="Вы проиграли!",k.classList.add("win-text"),n.classList.add("result"),n.append(y,k,T,v,b),s.classList.add("res-container"),s.append(n),a.classList.add("back-result")}),500)))),Array.from(H).every((t=>t.className.includes("flip")))&&(clearInterval(r),setTimeout((()=>{g.classList.add("timer-res"),L.classList.add("timer-res"),_.classList.add("timer-res"),n.classList.add("result"),n.append(y,k,T,v,b),s.classList.add("res-container"),s.append(n),a.classList.add("back-result")}),500))}))))})(c)}))};i()})();